console.log("ÎπÑÎîîÏò§ ÏÉùÏÑ± Î™®Îç∏ Î∂ÑÏÑù ÌéòÏù¥ÏßÄ Ïä§ÌÅ¨Î¶ΩÌä∏Í∞Ä Î°úÎìúÎêòÏóàÏäµÎãàÎã§.");

// Ìñ•ÌõÑ Ïù∏ÌÑ∞ÎûôÌã∞Î∏å Í∏∞Îä•ÏùÑ Ïó¨Í∏∞Ïóê Ï∂îÍ∞ÄÌï† Ïàò ÏûàÏäµÎãàÎã§.
// Ïòà: Î™®Îç∏ Ïπ¥Îìú ÌïÑÌÑ∞ÎßÅ, Ï†ïÎ†¨, Ï∞®Ìä∏ Î†åÎçîÎßÅ Îì± 

// ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïã§Ìñâ
document.addEventListener('DOMContentLoaded', function() {
    // Ïä§ÌÅ¨Î°§ Ïï†ÎãàÎ©îÏù¥ÏÖò
    initScrollAnimations();
    
    // Î™®Îç∏ Ïπ¥Îìú Ïù∏ÌÑ∞ÎûôÏÖò
    initModelCardInteractions();
    
    // ÏÑ±Îä• ÎπÑÍµê Ï∞®Ìä∏ (Í∞ÑÎã®Ìïú ÏãúÍ∞ÅÌôî)
    initPerformanceVisualization();
    
    // Î∂ÄÎìúÎü¨Ïö¥ Ïä§ÌÅ¨Î°§
    initSmoothScroll();
    
    // Î™®Îç∏ ÎπÑÍµê Í∏∞Îä•
    initModelComparison();
});

// Ïä§ÌÅ¨Î°§ Ïï†ÎãàÎ©îÏù¥ÏÖò Ï¥àÍ∏∞Ìôî
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    // Ïï†ÎãàÎ©îÏù¥ÏÖò ÎåÄÏÉÅ ÏöîÏÜåÎì§
    const animatedElements = document.querySelectorAll('.performance-card, .model-card, .trend-card, .comparison-split');
    animatedElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
}

// Î™®Îç∏ Ïπ¥Îìú Ïù∏ÌÑ∞ÎûôÏÖò
function initModelCardInteractions() {
    const modelCards = document.querySelectorAll('.model-card');
    
    modelCards.forEach(card => {
        // Ïπ¥Îìú ÌÅ¥Î¶≠ Ïãú ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌÜ†Í∏Ä
        const header = card.querySelector('.model-header');
        if (header) {
            header.addEventListener('click', function() {
                const content = card.querySelector('.model-content');
                if (content) {
                    content.style.display = content.style.display === 'none' ? 'grid' : 'none';
                    card.classList.toggle('collapsed');
                }
            });
            
            // Ïª§ÏÑú Ïä§ÌÉÄÏùº Î≥ÄÍ≤Ω
            header.style.cursor = 'pointer';
        }
        
        // ÌÉúÍ∑∏ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        const tags = card.querySelectorAll('.tag');
        tags.forEach(tag => {
            tag.addEventListener('click', function(e) {
                e.stopPropagation();
                highlightSimilarModels(tag.textContent);
            });
        });
    });
}

// Ïú†ÏÇ¨Ìïú Î™®Îç∏ ÌïòÏù¥ÎùºÏù¥Ìä∏
function highlightSimilarModels(tagText) {
    const allCards = document.querySelectorAll('.model-card');
    const similarTags = document.querySelectorAll(`.tag:contains('${tagText}')`);
    
    // Î™®Îì† Ïπ¥ÎìúÏóêÏÑú ÌïòÏù¥ÎùºÏù¥Ìä∏ Ï†úÍ±∞
    allCards.forEach(card => {
        card.style.opacity = '0.5';
        card.style.transform = 'scale(0.95)';
    });
    
    // Ïú†ÏÇ¨Ìïú ÌÉúÍ∑∏Î•º Í∞ÄÏßÑ Ïπ¥ÎìúÎì§ ÌïòÏù¥ÎùºÏù¥Ìä∏
    similarTags.forEach(tag => {
        const card = tag.closest('.model-card');
        if (card) {
            card.style.opacity = '1';
            card.style.transform = 'scale(1.02)';
            card.style.boxShadow = '0 12px 30px rgba(0,123,255,0.3)';
        }
    });
    
    // 3Ï¥à ÌõÑ ÏõêÎûò ÏÉÅÌÉúÎ°ú Î≥µÏõê
    setTimeout(() => {
        allCards.forEach(card => {
            card.style.opacity = '1';
            card.style.transform = 'scale(1)';
            card.style.boxShadow = '';
        });
    }, 3000);
}

// ÏÑ±Îä• ÏãúÍ∞ÅÌôî Ï¥àÍ∏∞Ìôî
function initPerformanceVisualization() {
    const performanceCards = document.querySelectorAll('.performance-card');
    
    performanceCards.forEach(card => {
        const metrics = card.querySelectorAll('.metric');
        
        metrics.forEach(metric => {
            const score = metric.querySelector('.score');
            const rank = metric.querySelector('.rank');
            
            if (score && rank) {
                // FVD Ï†êÏàòÏóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
                const scoreText = score.textContent;
                if (scoreText.includes('FVD:')) {
                    const fvdValue = parseFloat(scoreText.match(/[\d.]+/)[0]);
                    if (fvdValue < 10) {
                        rank.style.color = '#28a745'; // ÎÖπÏÉâ (Ïö∞Ïàò)
                    } else if (fvdValue < 50) {
                        rank.style.color = '#ffc107'; // ÎÖ∏ÎûÄÏÉâ (Î≥¥ÌÜµ)
                    } else if (fvdValue < 100) {
                        rank.style.color = '#fd7e14'; // Ï£ºÌô©ÏÉâ (Î≥¥ÌÜµ)
                    } else {
                        rank.style.color = '#dc3545'; // Îπ®Í∞ÑÏÉâ (ÎÇÆÏùå)
                    }
                }
                
                // ÏÑ†Ìò∏ÎèÑÏóê Îî∞Î•∏ ÏÉâÏÉÅ Î≥ÄÍ≤Ω
                if (scoreText.includes('ÏÑ†Ìò∏ÎèÑ')) {
                    const preferenceValue = parseFloat(scoreText.match(/[\d.]+/)[0]);
                    if (preferenceValue > 70) {
                        rank.style.color = '#28a745'; // ÎÖπÏÉâ (Ïö∞Ïàò)
                    } else if (preferenceValue > 40) {
                        rank.style.color = '#ffc107'; // ÎÖ∏ÎûÄÏÉâ (Î≥¥ÌÜµ)
                    } else {
                        rank.style.color = '#dc3545'; // Îπ®Í∞ÑÏÉâ (ÎÇÆÏùå)
                    }
                }
                
                // ÏàúÏúÑÏóê Îî∞Î•∏ Ïï†ÎãàÎ©îÏù¥ÏÖò
                if (rank.textContent.includes('ü•á')) {
                    rank.style.animation = 'goldPulse 2s infinite';
                } else if (rank.textContent.includes('ü•à')) {
                    rank.style.animation = 'silverPulse 2s infinite';
                } else if (rank.textContent.includes('ü•â')) {
                    rank.style.animation = 'bronzePulse 2s infinite';
                }
            }
        });
    });
}

// Î™®Îç∏ ÎπÑÍµê Í∏∞Îä• Ï¥àÍ∏∞Ìôî
function initModelComparison() {
    const comparisonTable = document.querySelector('.comparison-table table');
    if (comparisonTable) {
        const rows = comparisonTable.querySelectorAll('tbody tr');
        
        rows.forEach(row => {
            row.addEventListener('click', function() {
                // Ìñâ ÌÅ¥Î¶≠ Ïãú Ìï¥Îãπ ÌäπÏÑ± ÌïòÏù¥ÎùºÏù¥Ìä∏
                const cells = this.querySelectorAll('td');
                const feature = cells[0].textContent;
                
                // Î™®Îì† ÌñâÏóêÏÑú ÌïòÏù¥ÎùºÏù¥Ìä∏ Ï†úÍ±∞
                rows.forEach(r => r.style.backgroundColor = '');
                
                // ÌÅ¥Î¶≠Îêú Ìñâ ÌïòÏù¥ÎùºÏù¥Ìä∏
                this.style.backgroundColor = '#e3f2fd';
                
                // 2Ï¥à ÌõÑ ÏõêÎûò ÏÉÅÌÉúÎ°ú Î≥µÏõê
                setTimeout(() => {
                    this.style.backgroundColor = '';
                }, 2000);
            });
        });
    }
}

// Î∂ÄÎìúÎü¨Ïö¥ Ïä§ÌÅ¨Î°§ Ï¥àÍ∏∞Ìôî
function initSmoothScroll() {
    const links = document.querySelectorAll('a[href^="#"]');
    
    links.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
}

// CSS Ïï†ÎãàÎ©îÏù¥ÏÖò Ï∂îÍ∞Ä
const style = document.createElement('style');
style.textContent = `
    @keyframes goldPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    
    @keyframes silverPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    @keyframes bronzePulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.03); }
    }
    
    .model-card.collapsed .model-content {
        display: none;
    }
    
    .model-card.collapsed {
        max-height: 200px;
        overflow: hidden;
    }
    
    .performance-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .metric:hover {
        background-color: #f8f9fa;
        border-radius: 4px;
        padding: 0.8rem;
        margin: 0 -0.8rem;
    }
    
    .tag:hover {
        transform: scale(1.05);
        cursor: pointer;
    }
    
    .comparison-table tbody tr:hover td {
        background-color: #e3f2fd;
        transition: background-color 0.3s ease;
    }
    
    .comparison-table tbody tr {
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    
    .comparison-left:hover,
    .comparison-right:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .trend-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
`;
document.head.appendChild(style);

// ÏÑ±Îä• Îç∞Ïù¥ÌÑ∞ ÏãúÍ∞ÅÌôî (Í∞ÑÎã®Ìïú Ï∞®Ìä∏)
function createPerformanceChart() {
    const chartContainer = document.createElement('div');
    chartContainer.className = 'performance-chart';
    chartContainer.style.cssText = `
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        margin: 2rem 0;
    `;
    
    chartContainer.innerHTML = `
        <h3>ÏÑ±Îä• ÎπÑÍµê Ï∞®Ìä∏</h3>
        <div style="display: flex; justify-content: space-around; align-items: end; height: 200px; margin-top: 2rem;">
            <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="background: #28a745; width: 60px; height: 80px; border-radius: 4px 4px 0 0;"></div>
                <span style="margin-top: 0.5rem; font-weight: 600;">W.A.LT-XL</span>
                <span style="font-size: 0.8rem; color: #666;">FVD: 36</span>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="background: #ffc107; width: 60px; height: 60px; border-radius: 4px 4px 0 0;"></div>
                <span style="margin-top: 0.5rem; font-weight: 600;">W.A.LT-L</span>
                <span style="font-size: 0.8rem; color: #666;">FVD: 46</span>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="background: #fd7e14; width: 60px; height: 50px; border-radius: 4px 4px 0 0;"></div>
                <span style="margin-top: 0.5rem; font-weight: 600;">MAGVIT</span>
                <span style="font-size: 0.8rem; color: #666;">FVD: 58</span>
            </div>
            <div style="display: flex; flex-direction: column; align-items: center;">
                <div style="background: #dc3545; width: 60px; height: 30px; border-radius: 4px 4px 0 0;"></div>
                <span style="margin-top: 0.5rem; font-weight: 600;">StyleSV</span>
                <span style="font-size: 0.8rem; color: #666;">FVD: 221</span>
            </div>
        </div>
    `;
    
    // ÏÑ±Îä• ÎπÑÍµê ÏÑπÏÖòÏóê Ï∞®Ìä∏ Ï∂îÍ∞Ä
    const performanceSection = document.getElementById('performance-comparison');
    if (performanceSection) {
        performanceSection.appendChild(chartContainer);
    }
}

// ÌéòÏù¥ÏßÄ Î°úÎìú ÏôÑÎ£å ÌõÑ Ï∞®Ìä∏ ÏÉùÏÑ±
window.addEventListener('load', function() {
    setTimeout(createPerformanceChart, 1000);
}); 